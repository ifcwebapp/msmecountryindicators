<!DOCTYPE html>
<html>
<head>
    <title>Country Pages</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <link href="styles/main.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="Content/themes/base/jquery-ui.css" />>
    <script src="scripts/jquery-2.1.1.min.js"></script>
    <script src="scripts/jquery-ui.min-1.11.1.js"></script>
    <script src="scripts/knockout-3.2.0.js"></script>
    <script src="scripts/highcharts.js"></script>
    <script src="scripts/sprintf.js"></script>
    <script src="scripts/models/CountryIndicatorDataDimensions.js" type="text/javascript"></script>
    <script src="scripts/models/CountryIndicatorData.js" type="text/javascript"></script>
    <script src="scripts/models/CountriesInfo.js" type="text/javascript"></script>
    <script src="scripts/models/CountryData.js" type="text/javascript"></script>
    <script src="scripts/models/CountryListModel.js" type="text/javascript"></script>

</head>
<body>
    <div id="wrap">
        <div id="header">
            <script type="text/javascript">
                $("#header").load("header.html");
            </script>
        </div>
        <div id="main">
            <ul data-bind="foreach: countries">
                <li style="font-size: 1.3em; padding-bottom: 5px;" ><a href="javascript:void(0)" data-bind="text: name, click: $root.showSummary, attr: {name: code}"></a></li>
            </ul>
        </div>
    </div>
    
    <div id="summary" style="font-size: 1.3em">
        <div style="margin-bottom: 10px">
            <div class="close right" title="Close summary" data-bind="click: closeSummary"></div>
            <div class="clear"></div>
        </div>
        <div data-bind="text: summaryData()[0].CountryName" style="font-size: 2em"></div>
        <div id="scrollablePart" style="overflow-y: auto">
            <div style="font-weight: bold">Enterprises Data</div>
            <div style="margin-bottom: 20px">[Placeholder]</div>
            <div style="font-weight: bold">Sector Distribution Details</div>
            <div data-bind="foreach: summaryData()">
                <table>
                    <thead>
                        <tr class="odd">
                            <th></th>
                            <!-- ko foreach: $data.Categories[0].Value[0].Value -->
                            <th data-bind="text: Key"></th>
                            <!-- /ko -->
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: $data.Categories">
                        <tr class="odd">
                            <td data-bind="text: Key" style="font-weight: bold"></td>
                            <!-- ko foreach: Value -->
                            <!-- ko if: Key == 'Total' -->
                            <!-- ko foreach: Value -->
                            <!-- ko if: Key.indexOf('%') == -1 -->
                            <td data-bind="text: Value" style="font-weight: bold"></td>
                            <!-- /ko -->
                            <!-- ko ifnot: Key.indexOf('%') == -1 -->
                            <td data-bind="text: Value" style="font-weight: bold"></td>
                            <!-- /ko -->
                            <!-- /ko -->
                            <!-- /ko -->
                            <!-- /ko -->
                        </tr>
                        <!-- ko foreach: Value -->
                        <tr class="odd" data-bind="if: Key != 'Total'">
                            <td data-bind="text: Key" style="padding-left: 20px"></td>
                            <!-- ko foreach: Value -->
                            <!-- ko if: Key.indexOf('%') == -1 -->
                            <td data-bind="text: Value"></td>
                            <!-- /ko -->
                            <!-- ko ifnot: Key.indexOf('%') == -1 -->
                            <td data-bind="text: Value"></td>
                            <!-- /ko -->
                            <!-- /ko -->
                        </tr>
                        <!-- /ko -->
                    </tbody>

                </table>
            </div>
            <br /><br /><a href='javascript:void()' id='srcShow' onclick="$('#sources').show();$('#srcShow').hide();$('#srcHide').show();">Show data sources</a><a href='javascript:void()' id='srcHide' style='display:none' onclick="$('#sources').hide();$('#srcHide').hide();$('#srcShow').show();">Hide data sources</a><div id='sources' style='display:none'>[Sources placeholder]</div><br /><br /><br /><br />
        </div>
    </div>

    <div id="footer">
        <script type="text/javascript">
            $("#footer").load("footer.html");
        </script>
    </div>
    <script type="text/javascript">

        ko.applyBindings(new models.CountryListModel('http://ifcwebapp.github.io/msmecountryindicators/'));
        //ko.applyBindings(new models.CountryListModel('http://localhost:49909/msmecountryindicators/'));
    </script>

</body>
</html>
