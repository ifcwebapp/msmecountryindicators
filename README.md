#MSME Country Indicators


###Installing

- Install [Node.js](http://nodejs.org/download/)
- Clone this repository by running `git clone https://github.com/ifcwebapp/msmecountryindicators.git`
- Go to the root folder of the repository you just cloned
- Run: `npm install`
- Run: `npm install grunt -g`
- Run: `npm install grunt-cli -g`
- Run: `npm install tsd -g`
- Run: `tsd reinstall --save`
- Run: `-magic-button.bat`
- Check out the built website in the `built` folder (run `index.html`)

###Folders and files
- **artifacts** supporting files that are not the part of a website
- **assets** static content that is copied to the generated website *without* any transformation
- **built** generated website
- **helpers** special helpers for Handlebars templates
- **layouts** high level templates for pages (similar to master pages in MVC.NET)
- **node_modules** node.js tools required for building the website
- **pages** templates of the pages
- **partials** templates of the reusable parts of pages like headers, footers, etc.
- **scripts** typescript files that get compiled to javascript when the website is built
- **styles** less files that get compiled to css when the website is built
- **typings** typescript definition files, this folder is auto generated by running `tsd` command
- **.gitignore** files and folder to be ignored by git
- **-magic-button.bat** a command file that can be run to build the website
- **msme-country-indicators.csproj** - a visual studio project file
- **gruntfile.js** - a configuration file that defines how the build should be done
- **package.json** - a configuration file that defines what tools are required for building the website
- **tsd.json** - a configuration file that defines what typescript definition are required for compiling typescript files to javascript files
- **README.md** - a file that you are currently reading
- **msme-country-indicators.sln** - a visual studio solution file (contains a reference to the VS project file defined above)

###Real time development
You can enable a file watcher that would monitor `*.less` and `*.hbs` files for changes and run the built whenever a change is detected. Running a watcher while developing allows to see the reasults of your work immediatly without having to run a build.

To enable the watcher first make sure you have `grunt-contrib-watch` module installed:
- Go to the root folder of the repository
- Run `npm install`

Once the module is installed:
- Open a separate command line console
- Go to the root folder of the repository
- Run: `grunt watch`

The watcher will be running as long as the console is open.

>**Note on TypeScript:** If typescript files are edited in Visual Studio there is no need in a file watcher becasue Visual Studio compiles them to JavaScript on saving.

###Building
The following are the command you can use for building the website:

- `grunt` or `grunt default` - slow/complete: cleans up, compiles typescript, compiles less, copies the assets, generates html
- `grunt quick` - quick/dirty: compiles typescript, compiles less, generates html
- `grunt ts` - compiles typescript only
- `grunt less` - compiles less only
- `grunt assemble` - generates html only
- `grunt clean` - deletes everything from the `built` folder
